(this["webpackJsonpdelivery-service"]=this["webpackJsonpdelivery-service"]||[]).push([[0],{52:function(e,t,c){},53:function(e,t,c){},59:function(e,t,c){},60:function(e,t,c){},62:function(e,t,c){},82:function(e,t,c){},83:function(e,t,c){},84:function(e,t,c){},85:function(e,t,c){},86:function(e,t,c){},87:function(e,t,c){},88:function(e,t,c){},89:function(e,t,c){},90:function(e,t,c){},91:function(e,t,c){},92:function(e,t,c){},93:function(e,t,c){},94:function(e,t,c){"use strict";c.r(t);var n=c(2),r=c.n(n),a=c(25),s=c.n(a),i=(c(52),c(8)),l=c(11),j=(c(53),c(1)),d=function(){return Object(j.jsx)("div",{className:"navbar",children:Object(j.jsxs)("ul",{className:"navbar-item",children:[Object(j.jsx)("li",{children:Object(j.jsx)(l.b,{to:"/",children:"\uba54\uc778"})}),Object(j.jsx)("li",{children:Object(j.jsx)(l.b,{to:"/search",children:"\uac80\uc0c9"})}),Object(j.jsx)("li",{children:Object(j.jsx)(l.b,{to:"/orderHistory",children:"\uc8fc\ubb38\uae30\ub85d"})}),Object(j.jsx)("li",{children:Object(j.jsx)(l.b,{to:"/favorite",children:"\uc990\uaca8\ucc3e\uae30"})}),Object(j.jsx)("li",{children:Object(j.jsx)(l.b,{to:"/profile",children:"\ud504\ub85c\ud544"})})]})})},o=function(){return Object(j.jsx)("div",{children:Object(j.jsx)("h1",{children:"\uc990\uaca8\ucc3e\uae30 \ud398\uc774\uc9c0"})})},u=(c(59),function(){return Object(j.jsx)("div",{className:"banner"})}),b=(c(60),function(){return Object(j.jsx)("div",{className:"sort"})}),O=c(12),x=(c(62),function(e){var t=e.cat,c=e.loadingCat;return Object(j.jsxs)("div",{className:"allCat",children:[c&&"\ub85c\ub529 \uc911",!c&&t&&Object(j.jsx)("div",{className:"categories",children:t.map((function(e){return Object(j.jsx)("div",{className:"category",children:Object(j.jsxs)(l.b,{to:"/category/".concat(e.text),children:[Object(j.jsx)("div",{className:"category-box"}),Object(j.jsx)("p",{children:e.text})]})},e.name)}))})]})}),m=c(9),h=c(13),f=c.n(h),p=c(24),v=c.n(p),g=function(){return v.a.get("http://localhost:4000/categories")},N=function(){return v.a.get("http://localhost:4000/stores")},y=function(e){return v.a.get("https://delivery-service-web.herokuapp.com/api/eateries/".concat(e))},S=function(e){return v.a.get("https://delivery-service-web.herokuapp.com/api/menus/".concat(e))},E=c(7),_=c(23),T="loading/START_LOADING",I="loading/FINISH_LOADING",C=function(e){return{type:T,requestType:e}},w=function(e){return{type:I,requestType:e}},k={};var A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Object(m.a)(Object(m.a)({},e),{},Object(_.a)({},t.payload,!0));case I:return Object(m.a)(Object(m.a)({},e),{},Object(_.a)({},t.payload,!1));default:return e}},D=f.a.mark(W),G=f.a.mark(z),R=f.a.mark(K),F=f.a.mark(Q),L=f.a.mark(X),U="data/GET_CAT",M="data/GET_CAT_SUCCESS",P="data/GET_STORES",q="data/GET_STORES_SUCCESS",V="data/GET_DETAILS",H="data/GET_DETAILS_SUCCESS",B="data/GET_MENUS",J="data/GET_MENUS_SUCCESS";function W(){var e;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(E.c)(C(U));case 2:return t.prev=2,t.next=5,Object(E.b)(g);case 5:return e=t.sent,t.next=8,Object(E.c)({type:M,payload:e.data});case 8:t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(2),t.next=14,Object(E.c)({type:"data/GET_CAT_FAILURE",payload:t.t0,error:!0});case 14:return t.next=16,Object(E.c)(w(U));case 16:case"end":return t.stop()}}),D,null,[[2,10]])}function z(){var e;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(E.c)(C(P));case 2:return t.prev=2,t.next=5,Object(E.b)(N);case 5:return e=t.sent,t.next=8,Object(E.c)({type:q,payload:e.data});case 8:t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(2),t.next=14,Object(E.c)({type:"data/GET_STORES_FAILURE",payload:t.t0,error:!0});case 14:return t.next=16,Object(E.c)(w(P));case 16:case"end":return t.stop()}}),G,null,[[2,10]])}function K(e){var t;return f.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(E.c)(C(V));case 2:return c.prev=2,c.next=5,Object(E.b)(y,e.storeId);case 5:return t=c.sent,c.next=8,Object(E.c)({type:H,payload:t.data.data});case 8:c.next=14;break;case 10:return c.prev=10,c.t0=c.catch(2),c.next=14,Object(E.c)({type:"data/GET_DETAILS_FAILURE",payload:c.t0,error:!0});case 14:return c.next=16,Object(E.c)(w(V));case 16:case"end":return c.stop()}}),R,null,[[2,10]])}function Q(e){var t;return f.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(E.c)(C(B));case 2:return c.prev=2,c.next=5,Object(E.b)(S,e.menuId);case 5:return t=c.sent,c.next=8,Object(E.c)({type:J,payload:t.data.data});case 8:c.next=14;break;case 10:return c.prev=10,c.t0=c.catch(2),c.next=14,Object(E.c)({type:"data/GET_MENUS_FAILURE",payload:c.t0,error:!0});case 14:return c.next=16,Object(E.c)(w(B));case 16:case"end":return c.stop()}}),F,null,[[2,10]])}function X(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.d)(U,W);case 2:return e.next=4,Object(E.d)(P,z);case 4:return e.next=6,Object(E.d)(V,K);case 6:return e.next=8,Object(E.d)(B,Q);case 8:case"end":return e.stop()}}),L)}var Y={cat:null,stores:null,details:null,menus:null};var Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return Object(m.a)(Object(m.a)({},e),{},{cat:t.payload});case q:return Object(m.a)(Object(m.a)({},e),{},{stores:t.payload});case H:return Object(m.a)(Object(m.a)({},e),{},{details:t.payload});case J:return Object(m.a)(Object(m.a)({},e),{},{menus:t.payload});default:return e}},$=r.a.useEffect,ee=Object(O.b)((function(e){return{cat:e.data.cat,loadingCat:e.data.GET_CAT}}),(function(e){return{getCat:function(){e({type:U})}}}))((function(e){var t=e.getCat,c=e.cat,n=e.loadingCat;return $((function(){t()}),[t]),Object(j.jsx)(x,{cat:c,loadingCat:n})})),te=(c(82),c(21)),ce=function(e){var t=e.stores,c=e.loadingStores;return Object(j.jsxs)("div",{className:"allStores",children:[c&&"\ub85c\ub529 \uc911",!c&&t&&t.map((function(e){return Object(j.jsx)("div",{className:"item-card",children:Object(j.jsxs)(l.b,{to:"/detail/".concat(e.id),children:[Object(j.jsx)("div",{className:"card-img"}),Object(j.jsxs)("div",{className:"card-text",children:[Object(j.jsx)("div",{className:"card-name",children:e.name}),Object(j.jsxs)("div",{className:"card-detail",children:[Object(j.jsx)(te.a,{}),Object(j.jsxs)("p",{children:[e.grade," (",e.feedNum,") \xb7 \ubc30\ub2ec\ube44"," ",e.deliveryCost,"\uc6d0"]})]})]})]})},e.id)}))]})},ne=r.a.useEffect,re=Object(O.b)((function(e){return{stores:e.data.stores,loadingStores:e.data.GET_STORES}}),(function(e){return{getStores:function(){e({type:P})}}}))((function(e){var t=e.getStores,c=e.stores,n=e.loadingStores;return ne((function(){t()}),[t]),Object(j.jsx)(ce,{stores:c,loadingStores:n})})),ae=(c(83),function(){return Object(j.jsxs)("div",{className:"mainpage",children:[Object(j.jsx)(u,{}),Object(j.jsx)(ee,{}),Object(j.jsxs)("div",{className:"mainpage-title",children:[Object(j.jsxs)("div",{className:"title",children:[Object(j.jsx)("h2",{children:"\uc804\uccb4\ubcf4\uae30"}),Object(j.jsx)("hr",{})]}),Object(j.jsx)(b,{})]}),Object(j.jsx)(re,{})]})}),se=function(){return Object(j.jsx)("div",{children:Object(j.jsx)("h1",{children:"\uc8fc\ubb38 \uae30\ub85d"})})},ie=function(){return Object(j.jsx)("div",{children:Object(j.jsx)("h1",{children:"\ud504\ub85c\ud544 \ud398\uc774\uc9c0"})})},le=function(){return Object(j.jsx)("div",{children:Object(j.jsx)("h1",{children:"\uac80\uc0c9 \ud398\uc774\uc9c0"})})},je=(c(84),c(85),function(e){var t=e.details,c=e.moveToPage;return Object(j.jsx)("div",{className:"catNav",children:Object(j.jsx)("ul",{className:"catNav-category",children:t.menu_groups.map((function(e,t){return Object(j.jsx)("li",{children:Object(j.jsx)("button",{onClick:c(t),children:e.name})},e.name)}))})})}),de=(c(86),c(19)),oe=(c(87),function(e){var t=e.onSetIsVisible;return Object(j.jsx)("div",{className:"body-blackout-style",onClick:function(){return t(!1)}})}),ue=c(44),be="cart/ADD_CART",Oe=1,xe={bills:[]};var me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case be:return Object(m.a)(Object(m.a)({},e),{},{bills:e.bills.concat(t.bill)});default:return e}},he=(c(88),function(e){return Number(e.replace(",",""))}),fe=function(e){var t=e.menuId,c=e.setIsVisible,r=Object(n.useState)(1),a=Object(de.a)(r,2),s=a[0],i=a[1],l=Object(n.useState)(0),d=Object(de.a)(l,2),o=d[0],u=d[1],b=Object(n.useState)(void 0),x=Object(de.a)(b,2),m=x[0],h=x[1],f=Object(n.useState)(void 0),p=Object(de.a)(f,2),v=p[0],g=p[1],N=Object(n.useRef)(null),y=Object(O.d)((function(e){return e.data.menus})),S=Object(O.c)(),E=Object(O.c)(),_=function(){var e=Array.from(new FormData(N.current));c(!1);var t=e.map((function(e){return e[0]})).join(" , ");E(function(e,t,c){return{type:be,bill:{id:Oe++,menuName:e,optionMenus:t,totalPrice:c}}}(y.name,t,v))};return Object(n.useEffect)((function(){S(function(e){return{type:B,menuId:e}}(t))}),[t,S]),Object(n.useEffect)((function(){var e=y?he(y.price):void 0;h(e),g(e)}),[y]),Object(n.useEffect)((function(){g(m*s+o*s)}),[s,m,o]),null===y?Object(j.jsx)("div",{children:"\ub85c\ub529 \uc911"}):(y.option_groups.sort((function(e,t){return t.required-e.required})),Object(j.jsxs)("div",{className:"detail-menu-modal",children:[Object(j.jsx)("div",{className:"detail-menu-modal-img",children:Object(j.jsx)("img",{src:y.image,alt:"\uc0c1\uc138 \uba54\ub274 \uc774\ubbf8\uc9c0"})}),Object(j.jsxs)("div",{className:"detail-modal-content",children:[Object(j.jsxs)("div",{className:"detail-modal-info",children:[Object(j.jsx)("h2",{children:y.name}),Object(j.jsx)("p",{children:y.description})]}),Object(j.jsxs)("div",{className:"detail-modal-price",children:[Object(j.jsx)("p",{children:"\uac00\uaca9"}),Object(j.jsxs)("p",{children:[v,"\uc6d0"]})]}),Object(j.jsxs)("div",{className:"detail-modal-count",children:[Object(j.jsx)("p",{children:"\uc218\ub7c9"}),Object(j.jsxs)("div",{className:"detail-modal-count-btn",children:[Object(j.jsx)("button",{onClick:function(){s>1?i(s-1):alert("1\uac1c \uc774\uc0c1 \uc120\ud0dd\ud574\uc8fc\uc138\uc694.")},children:"-"}),Object(j.jsx)("p",{children:s}),Object(j.jsx)("button",{onClick:function(){i(s+1)},children:"+"})]})]}),Object(j.jsx)("div",{className:"detail-modal-select-menus",children:Object(j.jsx)("form",{ref:N,children:y.option_groups.map((function(e){return Object(j.jsxs)("div",{className:"menus-group",children:[Object(j.jsxs)("div",{className:"menus-group-name",children:[Object(j.jsx)("p",{children:"".concat(e.name," (").concat(e.min," ~ ").concat(e.max,")")}),Object(j.jsx)("p",{children:e.required?"\ud544\uc218 \uc120\ud0dd":" "})]}),e.options.map((function(t){return Object(j.jsxs)("div",{className:"menus-group-menu",children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("input",{type:"checkbox",id:t.id,name:t.name,value:he(t.price),onClick:function(){return function(e,t){var c,n=new FormData(N.current),r=0,a=Object(ue.a)(n.values());try{for(a.s();!(c=a.n()).done;){var s=c.value;r+=he(s)}}catch(i){a.e(i)}finally{a.f()}u(r)}(e.min,e.required)}}),Object(j.jsx)("label",{htmlFor:t.id,children:t.name})]}),Object(j.jsxs)("p",{children:["+ ",t.price,"\uc6d0"]})]},t.id)}))]},e.name)}))})})]}),Object(j.jsx)("div",{className:"detail-model-submit",children:Object(j.jsx)("button",{onClick:function(){return _()},children:"\uc8fc\ubb38\ud45c\uc5d0 \ucd94\uac00"})})]}))},pe=(c(89),function(e){var t=e.menu,c=(e.menuId,Object(n.useState)(!1)),r=Object(de.a)(c,2),a=r[0],s=r[1],i=function(e){s(e)};return Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"menu",onClick:function(){return i(!0)},children:[Object(j.jsxs)("div",{className:"menu-info",children:[Object(j.jsx)("p",{className:"menu-title",children:t.name}),Object(j.jsxs)("p",{className:"menu-price",children:[t.price,"\uc6d0"]}),Object(j.jsx)("p",{className:"menu-desc",children:t.description})]}),Object(j.jsx)("div",{className:"menu-img",children:Object(j.jsx)("img",{src:t.image,alt:"\uba54\ub274 \uc0ac\uc9c4"})})]}),Object(j.jsxs)("div",{children:[a&&Object(j.jsx)(oe,{onSetIsVisible:i}),a&&Object(j.jsx)(fe,{menuId:t.id,setIsVisible:s})]})]})}),ve=function(e,t){var c=e.category;return Object(j.jsx)("div",{children:Object(j.jsxs)("div",{className:"detailMenus",children:[Object(j.jsx)("p",{className:"detailMenus-category",ref:t,children:c.name}),c.menus.map((function(e){return Object(j.jsx)(pe,{menu:e,menuId:e.id},e.id)}))]})})},ge=Object(n.forwardRef)(ve),Ne=(c(90),function(e){var t,c=e.deliveryCost,r=Object(O.d)((function(e){return e.cart.bills})),a=Object(n.useState)(0),s=Object(de.a)(a,2),i=s[0],l=s[1];return Object(n.useEffect)((function(){var e=r.reduce((function(e,t){return e+t.totalPrice}),0);l(e)}),[r]),Object(j.jsxs)("div",{className:"bill",children:[Object(j.jsx)("div",{className:"bill-title",children:Object(j.jsx)("p",{children:"\uc8fc\ubb38\ud45c"})}),Object(j.jsx)("div",{className:"bill-content",children:r.length>0?r.map((function(e){return Object(j.jsxs)("div",{className:"bill-content-data",children:[Object(j.jsxs)("div",{className:"bill-content-data-header",children:[Object(j.jsxs)("p",{children:["".concat(e.id,"  ")," ",Object(j.jsx)("strong",{children:e.menuName})]}),Object(j.jsxs)("p",{children:[e.totalPrice,"\uc6d0 ",Object(j.jsx)(te.b,{})]})]}),Object(j.jsx)("p",{className:"bill-content-data-options",children:e.optionMenus})]},e.id)})):Object(j.jsx)("div",{children:Object(j.jsx)("p",{className:"bill-content-not-data",children:"\uc544\uc9c1 \uc8fc\ubb38 \ub0b4\uc5ed\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."})})}),Object(j.jsxs)("div",{className:"bill-delivery_cost",children:["\ubc30\ub2ec\ube44 : ",c]}),r.length>0?Object(j.jsxs)("button",{children:[i+(t=c,Number(t.replace(",",""))),"\uc6d0 \uacb0\uc81c\ud558\uae30"]}):Object(j.jsx)("button",{children:"\uacb0\uc81c \ud558\uae30"})]})}),ye=c(45),Se=(c(91),function(e){var t=e.details;return Object(j.jsxs)("div",{className:"store-delivery-info",children:[Object(j.jsxs)("div",{className:"store-delivery-info-header",children:[Object(j.jsx)(ye.a,{}),Object(j.jsx)("p",{children:t.delivery_time})]}),Object(j.jsxs)("div",{className:"store-delivery-price-info",children:[Object(j.jsx)("p",{className:"store-delivery-text",children:"\ubc30\ub2ec\ube44"}),Object(j.jsx)("p",{children:Object(j.jsxs)("strong",{children:[t.delivery_charge,"\uc6d0"]})})]}),Object(j.jsxs)("div",{className:"store-delivery-price-info",children:[Object(j.jsx)("p",{className:"store-delivery-text",children:"\ucd5c\uc18c\uc8fc\ubb38"}),Object(j.jsxs)("p",{children:[t.minimum_order_amount,"\uc6d0"]})]})]})}),Ee=(c(92),c(93),function(e){var t=e.details;return Object(j.jsxs)("div",{className:"store-info",children:[Object(j.jsx)("p",{className:"store-into-name",children:t.title}),Object(j.jsxs)("div",{className:"store-info-detail",children:[Object(j.jsx)(te.a,{}),Object(j.jsxs)("p",{className:"store-grade",children:[t.grade," "]}),Object(j.jsx)("p",{className:"store-review",children:Object(j.jsxs)(l.b,{to:"#",children:["\ub9ac\ubdf0 ",Object(j.jsx)("strong",{children:t.review_count}),"\uac1c >"]})})]})]})}),_e=function(e){var t=e.details,c=e.loadingDetails,r=e.storeId,a=Object(n.useRef)([]);return Object(j.jsxs)("div",{className:"detail-page",children:[c&&"\ub85c\ub529 \uc911",!c&&t&&Object(j.jsxs)("div",{className:"detail-left",children:[Object(j.jsx)("img",{src:t.poster_image,alt:"\ub300\ud45c \uc774\ubbf8\uc9c0"}),Object(j.jsx)(Ee,{details:t}),Object(j.jsx)(Se,{details:t}),Object(j.jsx)(je,{details:t,moveToPage:function(e){return function(){a.current[e].scrollIntoView({block:"start",behavior:"smooth"})}}}),t.menu_groups.map((function(e,t){return Object(j.jsx)(ge,{category:e,storeId:r,ref:function(e){return a.current[t]=e}},e.name)}))]}),!c&&t&&Object(j.jsx)("div",{className:"detail-right",children:Object(j.jsx)(Ne,{deliveryCost:t.delivery_charge})})]})},Te=r.a.useEffect,Ie=Object(O.b)((function(e){return{details:e.data.details,loadingDetails:e.data.GET_DETAILS}}),(function(e){return{getDetails:function(t){e(function(e){return{type:V,storeId:e}}(t))}}}))((function(e){var t=e.getDetails,c=e.details,n=e.loadingDetails,r=e.storeId;return Te((function(){t(r)}),[t,r]),Object(j.jsx)(_e,{details:c,loadingDetails:n,storeId:r})})),Ce=function(e){var t=e.match.params.storeId;return Object(j.jsx)(Ie,{storeId:t})},we=function(){return Object(j.jsxs)("div",{className:"body",children:[Object(j.jsx)(d,{}),Object(j.jsxs)(i.c,{children:[Object(j.jsx)(i.a,{path:"/",exact:!0,component:ae}),Object(j.jsx)(i.a,{path:"/search",component:le}),Object(j.jsx)(i.a,{path:"/orderHistory",component:se}),Object(j.jsx)(i.a,{path:"/favorite",component:o}),Object(j.jsx)(i.a,{path:"/profile",component:ie}),Object(j.jsx)(i.a,{path:"/detail/:storeId",exact:!0,component:Ce}),Object(j.jsx)(i.a,{render:function(e){e.location;return Object(j.jsx)("div",{children:"\uc874\uc7ac\ud558\uc9c0 \uc54a\ub294 \ud398\uc774\uc9c0"})}})]})]})},ke=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,95)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;c(e),n(e),r(e),a(e),s(e)}))},Ae=c(18),De=f.a.mark(Ge);function Ge(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.a)([X()]);case 2:case"end":return e.stop()}}),De)}var Re=Object(Ae.combineReducers)({data:Z,cart:me,loading:A}),Fe=c(47),Le=c(46),Ue=Object(Fe.a)(),Me=Object(Ae.createStore)(Re,Object(Le.composeWithDevTools)(Object(Ae.applyMiddleware)(Ue)));Ue.run(Ge),s.a.render(Object(j.jsx)(O.a,{store:Me,children:Object(j.jsx)(l.a,{children:Object(j.jsx)(we,{})})}),document.getElementById("root")),ke()}},[[94,1,2]]]);
//# sourceMappingURL=main.eff074d7.chunk.js.map